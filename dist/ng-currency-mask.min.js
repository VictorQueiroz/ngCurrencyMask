"use strict";angular.module("ngCurrencyMask",["ngCurrencyMask.directives","ngCurrencyMask.filters","ngCurrencyMask.providers"]);
"use strict";angular.module("ngCurrencyMask.filters.currencyMask",[]).filter("currencyMask",function(r){var n=function(r){switch(r){case"mask":return 1;case"unmask":return 2}},u=function(r){return null===r||"default"===r?null:r};return function(e,t,a){if(!e)return"";e=e.toString();var t=t?n(t):n("mask"),s=a?u(a):u(null);if(1===t){var c=r.maskValue(e,s);return c}return 2===t?r.unmaskValue(e):void 0}});
"use strict";angular.module("ngCurrencyMask.directives",["ngCurrencyMask.directives.ngCurrencyMask"]);
"use strict";angular.module("ngCurrencyMask.filters",["ngCurrencyMask.filters.currencyMask"]);
"use strict";angular.module("ngCurrencyMask.providers.masker",[]).provider("$masker",function(){var e=this;this.defaults={currency:"R$",maskMatches:[{replace:/(\.[0-9])(?=[0-9]{0}$)/g,"with":"$10"},{replace:/^(\d)*(?=(\d{0,})$)/g,"with":"$&,00"},{replace:/^(\d{1})$/,"with":"0,0$1"},{replace:/(\d{2})$/,"with":",$1"},{replace:/,(\d{3,})$/,"with":"$1,00"},{replace:/^,(\d{2})$/,"with":"0,$1"},{replace:/(?:\,{2,})+/g,"with":","},{replace:/[A-z{}\[\]_!\.]/g,"with":""},{replace:/(\d)(?=(\d{3})+(?!\d))/g,"with":"$1."}],unmaskMatches:[{replace:/\D/g,"with":""},{replace:/^(\d{1})$/,"with":"0.0$1"},{replace:/(\d{2})$/,"with":".$1"},{replace:/(,00|\.00$)/g,"with":""},{replace:/^(0{1,})/,"with":""},{replace:/^\.(\d{2})$/,"with":"0.$1"},{replace:function(e){if(!e)return"";var r=new RegExp(".(d{3,})$"),t=e.match(r);return t instanceof Array&&t[1]&&(e=e.replace(t,t.toString().substr(0,2))),e}}]},this.setCurrency=function(r){return e.currency=r,e},this.addUnmaskMatch=function(r,t){return e.unmaskMatches.unshift({replace:r,"with":t}),e},this.addMaskMatch=function(r,t){var a={};return t?(a.replace=r,a.with=t):a.replace=r,e.maskMatches.unshift(a),e},this.$get=function(){function r(){function r(r,t){if(!r)return r;var a=r.toString();return a=a.replace(/^/,(t?t:e.defaults.currency)+" ")}var t={};return t.maskValue=function(t,a){var c=t?t.toString():"",n=e.defaults.maskMatches;return n.forEach(function(e){c=e.replace instanceof Function?e.replace(c):c.replace(e.replace,e.with)}),c=r(c,a)},t.unmaskValue=function(r){var t=r?r.toString():"",a=e.defaults.unmaskMatches;return a.forEach(function(e){t=e.replace instanceof Function?e.replace(t):t.replace(e.replace,e.with)}),t},t}return new r}});
"use strict";angular.module("ngCurrencyMask.directives.ngCurrencyMask",[]).directive("ngCurrencyMask",function(n){return{restrict:"A",require:["?ngModel"],link:function(r,e,u,t){var c=t[0],i=u.currency?u.currency:null,a=function(r){return n.maskValue(r,i)},s=function(r){return n.unmaskValue(r)},l=function(n){return s(n)};c.$parsers.push(l),r.$watch(u.ngModel,function(n){if(n&&!(n.length<1)){var r=a(n);r!=n&&(c.$setViewValue(r),c.$render())}})}}});
"use strict";angular.module("ngCurrencyMask.providers",["ngCurrencyMask.providers.masker"]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImNvbXBvbmVudHMvY3VycmVuY3lNYXNrLmZpbHRlci5qcyIsImNvbXBvbmVudHMvZGlyZWN0aXZlcy5qcyIsImNvbXBvbmVudHMvZmlsdGVycy5qcyIsImNvbXBvbmVudHMvbWFza2VyLnByb3ZpZGVyLmpzIiwiY29tcG9uZW50cy9uZ0N1cnJlbmN5TWFzay5kaXJlY3RpdmUuanMiLCJjb21wb25lbnRzL3Byb3ZpZGVycy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiZmlsdGVyIiwiJG1hc2tlciIsImRpZ2VzdE1vZGUiLCJtb2RlIiwiZGlnZXN0Q3VycmVuY3kiLCJjdXJyZW5jeSIsImlucHV0IiwidG9TdHJpbmciLCJkaWdlc3RlZEN1cnJlbmN5IiwibWFza2VkVmFsdWUiLCJtYXNrVmFsdWUiLCJ1bm1hc2tWYWx1ZSIsInByb3ZpZGVyIiwiJG1hc2tlclByb3ZpZGVyIiwidGhpcyIsImRlZmF1bHRzIiwibWFza01hdGNoZXMiLCJyZXBsYWNlIiwid2l0aCIsInVubWFza01hdGNoZXMiLCJ2YWx1ZSIsInJlZ2V4IiwiUmVnRXhwIiwibWF0Y2giLCJBcnJheSIsInN1YnN0ciIsInNldEN1cnJlbmN5IiwiYWRkVW5tYXNrTWF0Y2giLCJ1bnNoaWZ0IiwiYWRkTWFza01hdGNoIiwiJGdldCIsIiRNYXNrZXJGYWN0b3J5IiwiYWRkQ3VycmVuY3kiLCJuZXdWYWx1ZSIsIm1hdGNoZXMiLCJmb3JFYWNoIiwia2V5IiwiRnVuY3Rpb24iLCJ1bm1hc2tlZFZhbHVlIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXF1aXJlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiY29udHJvbGxlcnMiLCJuZ01vZGVsIiwicGFyc2VyIiwiJHBhcnNlcnMiLCJwdXNoIiwiJHdhdGNoIiwibGVuZ3RoIiwiJHNldFZpZXdWYWx1ZSIsIiRyZW5kZXIiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUFBLFNBQ0VDLE9BQU8sa0JBQ1As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LEVBQUluQixRQUFTbUIsRUFBSWxCLFFBSXJEVCxFQUFjdUIsRUFBWXZCLEVBQWFKLElBUXhDSixFQUFRVSxZQUFjLFNBQVVTLEdBQy9CLEdBQUlrQixHQUFnQmxCLEVBQVFBLEVBQU1iLFdBQWEsR0FDN0MyQixFQUFVckIsRUFBZ0JFLFNBQVNJLGFBVXJDLE9BUkFlLEdBQVFDLFFBQVEsU0FBVUMsR0FFeEJFLEVBREVGLEVBQUluQixrQkFBbUJvQixVQUNURCxFQUFJbkIsUUFBUXFCLEdBRVpBLEVBQWNyQixRQUFRbUIsRUFBSW5CLFFBQVNtQixFQUFJbEIsUUFJbERvQixHQUdEckMsRUFHUixNQUFPLElBQUk4QjtBQ3BKZCxZQUVBakMsU0FDRUMsT0FBTywrQ0FFUHdDLFVBQVUsaUJBQWtCLFNBQVV0QyxHQUN0QyxPQUNDdUMsU0FBVSxJQUNWQyxTQUFVLFlBQ1ZDLEtBQU0sU0FBVUMsRUFBT0MsRUFBU0MsRUFBT0MsR0FDdEMsR0FBSUMsR0FBVUQsRUFBWSxHQUN4QnpDLEVBQVl3QyxFQUFNeEMsU0FBa0J3QyxFQUFNeEMsU0FBYixLQUszQkssRUFBWSxTQUFVVSxHQUN6QixNQUFPbkIsR0FBUVMsVUFBVVUsRUFBT2YsSUFNN0JNLEVBQWMsU0FBVVMsR0FDM0IsTUFBT25CLEdBQVFVLFlBQVlTLElBT3hCNEIsRUFBUyxTQUFVNUIsR0FDdEIsTUFBT1QsR0FBWVMsR0FHcEIyQixHQUFRRSxTQUFTQyxLQUFLRixHQU90QkwsRUFBTVEsT0FBT04sRUFBTUUsUUFBUyxTQUFVM0IsR0FDckMsR0FBSUEsS0FBU0EsRUFBTWdDLE9BQVMsR0FBNUIsQ0FFQSxHQUFJM0MsR0FBY0MsRUFBVVUsRUFFekJYLElBQWVXLElBQ2pCMkIsRUFBUU0sY0FBYzVDLEdBQ3RCc0MsRUFBUU87QUNqRGQsWUFFQXhELFNBQ0VDLE9BQU8sNEJBQ1AiLCJmaWxlIjoibmctY3VycmVuY3ktbWFzay5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2snLCBbXG5cdFx0J25nQ3VycmVuY3lNYXNrLmRpcmVjdGl2ZXMnLFxuXHRcdCduZ0N1cnJlbmN5TWFzay5maWx0ZXJzJyxcblx0XHQnbmdDdXJyZW5jeU1hc2sucHJvdmlkZXJzJ1xuXHRdKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2suZmlsdGVycy5jdXJyZW5jeU1hc2snLCBbXSlcblxuXHQuZmlsdGVyKCdjdXJyZW5jeU1hc2snLCBmdW5jdGlvbiAoJG1hc2tlcikge1xuXHRcdHZhciBkaWdlc3RNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcblx0XHRcdHN3aXRjaChtb2RlKSB7XG5cdFx0XHRcdGNhc2UgJ21hc2snOlxuXHRcdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICd1bm1hc2snOlxuXHRcdFx0XHRcdHJldHVybiAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgZGlnZXN0Q3VycmVuY3kgPSBmdW5jdGlvbiAoY3VycmVuY3kpIHtcblx0XHRcdGlmKGN1cnJlbmN5ID09PSBudWxsIHx8IGN1cnJlbmN5ID09PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY3VycmVuY3k7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBtb2RlLCBjdXJyZW5jeSkge1xuXHRcdFx0aWYoIWlucHV0KSByZXR1cm4gJyc7XG5cblx0XHRcdGlucHV0ID0gaW5wdXQudG9TdHJpbmcoKTtcblxuXHRcdFx0Ly8gSWYgdGhlcmUgaXMgbm8gJ21vZGUnIGRlZmluZWQuIE1hc2sgdGhlIGlucHV0LlxuXHRcdFx0dmFyIG1vZGUgPSBtb2RlID8gZGlnZXN0TW9kZShtb2RlKSA6IGRpZ2VzdE1vZGUoJ21hc2snKSxcblx0XHRcdGRpZ2VzdGVkQ3VycmVuY3kgPSBjdXJyZW5jeSA/IGRpZ2VzdEN1cnJlbmN5KGN1cnJlbmN5KSA6IGRpZ2VzdEN1cnJlbmN5KG51bGwpO1xuXG5cdFx0XHRpZihtb2RlID09PSAxKSB7XG5cdFx0XHRcdHZhciBtYXNrZWRWYWx1ZSA9ICRtYXNrZXIubWFza1ZhbHVlKGlucHV0LCBkaWdlc3RlZEN1cnJlbmN5KTtcblxuXHRcdFx0XHRyZXR1cm4gbWFza2VkVmFsdWU7XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGUgPT09IDIpIHtcblx0XHRcdFx0cmV0dXJuICRtYXNrZXIudW5tYXNrVmFsdWUoaW5wdXQpO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9KTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2suZGlyZWN0aXZlcycsIFsnbmdDdXJyZW5jeU1hc2suZGlyZWN0aXZlcy5uZ0N1cnJlbmN5TWFzayddKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2suZmlsdGVycycsIFsnbmdDdXJyZW5jeU1hc2suZmlsdGVycy5jdXJyZW5jeU1hc2snXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ25nQ3VycmVuY3lNYXNrLnByb3ZpZGVycy5tYXNrZXInLCBbXSlcblxuXHQucHJvdmlkZXIoJyRtYXNrZXInLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyICRtYXNrZXJQcm92aWRlciA9IHRoaXM7XG5cblx0XHR0aGlzLmRlZmF1bHRzID0ge1xuXHRcdFx0Y3VycmVuY3k6ICdSJCcsXG5cblx0XHRcdG1hc2tNYXRjaGVzOiBbXG5cdFx0XHRcdHsgJ3JlcGxhY2UnOiAvKFxcLlswLTldKSg/PVswLTldezB9JCkvZywgJ3dpdGgnOiAnJDEwJyB9LC8vIENvbnZlcnRzIFhYWFguWCB0byBYWFhYLlgwXG5cdFx0XHRcdHsgJ3JlcGxhY2UnOiAvXihcXGQpKig/PShcXGR7MCx9KSQpL2csICd3aXRoJzogJyQmLDAwJyB9LC8vIENvbnZlcnRzIFhYWFggdG8gWFhYWCwwMFxuXHRcdFx0XHR7ICdyZXBsYWNlJzogL14oXFxkezF9KSQvLCAnd2l0aCc6ICcwLDAkMScgfSwvLyBDb252ZXJ0cyBYIHRvIDAsMFhcblx0XHRcdFx0eyAncmVwbGFjZSc6IC8oXFxkezJ9KSQvLCAnd2l0aCc6ICcsJDEnfSwvLyBDb252ZXJ0cyBYWCB0byAwLFhYXG5cdFx0XHRcdHsgJ3JlcGxhY2UnOiAvLChcXGR7Myx9KSQvLCAnd2l0aCc6ICckMSwwMCcgfSwvLyBDb252ZXJ0cyBYLFhYWCB0byBYLFhYXG5cdFx0XHRcdHsgJ3JlcGxhY2UnOiAvXiwoXFxkezJ9KSQvLCAnd2l0aCc6IFwiMCwkMVwiIH0sLy8gQ29udmVydHMgLFhYIHRvIDAsWFhcblx0XHRcdFx0eyAncmVwbGFjZSc6IC8oPzpcXCx7Mix9KSsvZywgJ3dpdGgnOiBcIixcIiB9LC8vIENvbnZlcnRzIGFsbCBkdXBsaWNhdGVkIGNvbW1hIGZvciBqdXN0IG9uZVxuXHRcdFx0XHR7ICdyZXBsYWNlJzogL1tBLXp7fVxcW1xcXV8hXFwuXS9nLCAnd2l0aCc6IFwiXCIgfSwvLyBDb252ZXJ0cyBhbGwgbm9uLWRpZ2l0IG51bWJlcnMgdG8gJydcblx0XHRcdFx0eyAncmVwbGFjZSc6IC8oXFxkKSg/PShcXGR7M30pKyg/IVxcZCkpL2csICd3aXRoJzogXCIkMS5cIiB9LC8vIENvbnZlcnRzIFhYWFhYWCB0byBYWFguWFhYXHRcdFx0XHRcblx0XHRcdF0sXG5cblx0XHRcdHVubWFza01hdGNoZXM6IFtcblx0XHRcdFx0eyAncmVwbGFjZSc6IC9cXEQvZywgJ3dpdGgnOiBcIlwiIH0sIC8vIENvbnZlcnRzICBhbGwgbm9uLWRpZ2l0IG51bWJlcnMgdG8gJydcblx0XHRcdFx0eyAncmVwbGFjZSc6IC9eKFxcZHsxfSkkLywgJ3dpdGgnOiAnMC4wJDEnIH0sIC8vIENvbnZlcnRzIFggdG8gWC4wWFxuXHRcdFx0XHR7ICdyZXBsYWNlJzogLyhcXGR7Mn0pJC8sICd3aXRoJzogJy4kMSd9LCAvLyBDb252ZXJ0cyBYWCB0byAuWFhcblx0XHRcdFx0eyAncmVwbGFjZSc6IC8oLDAwfFxcLjAwJCkvZywgJ3dpdGgnOiAnJyB9LCAvLyBDb252ZXJ0cyBhbGwgLFhYIGFuZCAuWFggdG8gbm90aGluZ1x0XHRcdFx0XG5cdFx0XHRcdHsgJ3JlcGxhY2UnOiAvXigwezEsfSkvLCAnd2l0aCc6ICcnIH0sIC8vIENvbnZlcnRzIHplcm9zIGF0IHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nIHRvIG5vdGhpbmdcblx0XHRcdFx0eyAncmVwbGFjZSc6IC9eXFwuKFxcZHsyfSkkLywgJ3dpdGgnOiBcIjAuJDFcIiB9LCAvLyBDb252ZXJ0cyAuWFggdG8gMC5YWFxuXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKiBDbGVhbiB0aGUgZW5kIG9mIHRoZSBzdHJpbmcgZnJvbVxuXHRcdFx0XHQgKiB1bnNpZ25pZmljYW50IG51bWJlcnMgY29udmVydGluZ1xuXHRcdFx0XHQgKiBYWFguMzBYWFhYIHRvIFhYWC4zMFxuXHRcdFx0XHQgKi9cblx0XHRcdFx0eyAncmVwbGFjZSc6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0aWYoIXZhbHVlKSByZXR1cm4gJyc7XG5cblx0XHRcdFx0XHRcdHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1xcLihcXGR7Myx9KSQnKSxcblx0XHRcdFx0XHRcdG1hdGNoID0gdmFsdWUubWF0Y2gocmVnZXgpO1xuXG5cdFx0XHRcdFx0XHRpZihtYXRjaCBpbnN0YW5jZW9mIEFycmF5ICYmIG1hdGNoWzFdKSB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUucmVwbGFjZShtYXRjaCwgbWF0Y2gudG9TdHJpbmcoKS5zdWJzdHIoMCwgMikpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRdXG5cdFx0fTtcblxuXHRcdHRoaXMuc2V0Q3VycmVuY3kgPSBmdW5jdGlvbiAoY3VycmVuY3kpIHtcblx0XHRcdCRtYXNrZXJQcm92aWRlci5jdXJyZW5jeSA9IGN1cnJlbmN5O1xuXG5cdFx0XHRyZXR1cm4gJG1hc2tlclByb3ZpZGVyO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBBZGQgYSBuZXcgbWF0Y2ggdGFzayB0byAkbWFza2VyLnVubWFza01hdGNoZXMuXG5cdFx0ICovXG5cdFx0dGhpcy5hZGRVbm1hc2tNYXRjaCA9IGZ1bmN0aW9uIChyZXBsYWNlLCB2YWx1ZSkge1xuXHRcdFx0JG1hc2tlclByb3ZpZGVyLnVubWFza01hdGNoZXMudW5zaGlmdCh7XG5cdFx0XHRcdCdyZXBsYWNlJzogcmVwbGFjZSxcblx0XHRcdFx0J3dpdGgnOiB2YWx1ZVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiAkbWFza2VyUHJvdmlkZXI7XG5cdFx0fTtcdFx0XHRcblxuXHRcdC8qKlxuXHRcdCAqIEFkZCBhIG5ldyBtYXRjaCB0YXNrIHRvICRtYXNrZXIubWFza01hdGNoZXMuXG5cdFx0ICovXG5cdFx0dGhpcy5hZGRNYXNrTWF0Y2ggPSBmdW5jdGlvbiAocmVwbGFjZSwgdmFsdWUpIHtcblx0XHRcdHZhciBtYXRjaCA9IHt9O1xuXG5cdFx0XHRpZighdmFsdWUpIHtcblx0XHRcdFx0bWF0Y2gucmVwbGFjZSA9IHJlcGxhY2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaC5yZXBsYWNlID0gcmVwbGFjZTtcblx0XHRcdFx0bWF0Y2gud2l0aCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQkbWFza2VyUHJvdmlkZXIubWFza01hdGNoZXMudW5zaGlmdChtYXRjaCk7XG5cblx0XHRcdHJldHVybiAkbWFza2VyUHJvdmlkZXI7XG5cdFx0fTtcblxuXHRcdHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGZ1bmN0aW9uICRNYXNrZXJGYWN0b3J5ICgpIHtcblx0XHRcdFx0dmFyICRtYXNrZXIgPSB7fTtcblxuXHRcdFx0XHRmdW5jdGlvbiBhZGRDdXJyZW5jeSAodmFsdWUsIGN1cnJlbmN5KSB7XG5cdFx0XHRcdFx0aWYoIXZhbHVlKSByZXR1cm4gdmFsdWU7XG5cblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBDb252ZXJ0cyBAdmFsdWUgdG8gYSBTdHJpbmcgaW5zdGFuY2UsIGZvciBOdW1iZXJcblx0XHRcdFx0XHQgKiBpbnN0YW5jZXMgZG9lc24ndCBoYXZlIC5yZXBsYWNlKCkgcHJvdG90eXBlLlxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdHZhciBuZXdWYWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cblx0XHRcdFx0XHQvLyBJbXBsZW1lbnRzIHRoZSBjdXJyZW5jeSBhdCBAbmV3VmFsdWVcblx0XHRcdFx0XHRuZXdWYWx1ZSA9IG5ld1ZhbHVlLnJlcGxhY2UoL14vLCAoY3VycmVuY3kgPyBjdXJyZW5jeSA6ICRtYXNrZXJQcm92aWRlci5kZWZhdWx0cy5jdXJyZW5jeSkgKyAnICcpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIG5ld1ZhbHVlO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKiBNYXNrIEB2YWx1ZSBtYXRjaGluZyBpdCBjb250ZW50cy5cblx0XHRcdFx0ICovXG5cdFx0XHRcdCRtYXNrZXIubWFza1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeSkge1xuXHRcdFx0XHRcdHZhciBtYXNrZWRWYWx1ZSA9IHZhbHVlID8gdmFsdWUudG9TdHJpbmcoKSA6ICcnLFxuXHRcdFx0XHRcdFx0XHRtYXRjaGVzID0gJG1hc2tlclByb3ZpZGVyLmRlZmF1bHRzLm1hc2tNYXRjaGVzO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0XHRpZihrZXkucmVwbGFjZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdG1hc2tlZFZhbHVlID0ga2V5LnJlcGxhY2UobWFza2VkVmFsdWUpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bWFza2VkVmFsdWUgPSBtYXNrZWRWYWx1ZS5yZXBsYWNlKGtleS5yZXBsYWNlLCBrZXkud2l0aCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRtYXNrZWRWYWx1ZSA9IGFkZEN1cnJlbmN5KG1hc2tlZFZhbHVlLCBjdXJyZW5jeSk7XG5cblx0XHRcdFx0XHRyZXR1cm4gbWFza2VkVmFsdWU7XG5cdFx0XHRcdH07XG5cdFx0XHRcdFxuXHRcdFx0XHQvKipcblx0XHRcdFx0ICogUmV0dXJuIEB2YWx1ZSB0byBpdCByZWFsIHZhbHVlLlxuXHRcdFx0XHQgKi9cblx0XHRcdFx0JG1hc2tlci51bm1hc2tWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRcdHZhciB1bm1hc2tlZFZhbHVlID0gdmFsdWUgPyB2YWx1ZS50b1N0cmluZygpIDogJycsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZXMgPSAkbWFza2VyUHJvdmlkZXIuZGVmYXVsdHMudW5tYXNrTWF0Y2hlcztcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRtYXRjaGVzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRcdFx0aWYoa2V5LnJlcGxhY2UgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuXHRcdFx0XHRcdFx0XHR1bm1hc2tlZFZhbHVlID0ga2V5LnJlcGxhY2UodW5tYXNrZWRWYWx1ZSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR1bm1hc2tlZFZhbHVlID0gdW5tYXNrZWRWYWx1ZS5yZXBsYWNlKGtleS5yZXBsYWNlLCBrZXkud2l0aCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0cmV0dXJuIHVubWFza2VkVmFsdWU7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuICRtYXNrZXI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBuZXcgJE1hc2tlckZhY3Rvcnk7XG5cdFx0fTtcblx0fSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ25nQ3VycmVuY3lNYXNrLmRpcmVjdGl2ZXMubmdDdXJyZW5jeU1hc2snLCBbXSlcblxuXHQuZGlyZWN0aXZlKCduZ0N1cnJlbmN5TWFzaycsIGZ1bmN0aW9uICgkbWFza2VyKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlc3RyaWN0OiAnQScsXG5cdFx0XHRyZXF1aXJlOiBbJz9uZ01vZGVsJ10sXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycykge1xuXHRcdFx0XHR2YXIgbmdNb2RlbCA9IGNvbnRyb2xsZXJzWzBdLFxuXHRcdFx0XHRcdFx0Y3VycmVuY3kgPSAhYXR0cnMuY3VycmVuY3kgPyBudWxsIDogYXR0cnMuY3VycmVuY3k7XG5cblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIE1hc2sgQHZhbHVlIG1hdGNoaW5nIGl0IGNvbnRlbnRzLlxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dmFyIG1hc2tWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRcdHJldHVybiAkbWFza2VyLm1hc2tWYWx1ZSh2YWx1ZSwgY3VycmVuY3kpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIFJldHVybiBAdmFsdWUgdG8gaXQgcmVhbCB2YWx1ZS5cblx0XHRcdFx0ICovXG5cdFx0XHRcdHZhciB1bm1hc2tWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRcdHJldHVybiAkbWFza2VyLnVubWFza1ZhbHVlKHZhbHVlKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0XG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKiBQYXJzZXIgd2hvIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgbmdNb2RlbFxuXHRcdFx0XHQgKiBiZWZvcmUgdGhlIGdvZXMgdG8gRE9NLiBUaGF0IGlzIHRoZSByZWFsIG5nTW9kZWwgdmFsdWUuXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHR2YXIgcGFyc2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHVubWFza1ZhbHVlKHZhbHVlKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRuZ01vZGVsLiRwYXJzZXJzLnB1c2gocGFyc2VyKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8qKlxuXHRcdFx0XHQgKiBFdmVyeXRpbWUgdGhlIGlucHV0IHN1ZmZlciBhIGNoYW5nZSxcblx0XHRcdFx0ICogdGhlIGRpcmVjdGl2ZSB3aWxsIHVwZGF0ZSBpdCBhbmQgbWFza1xuXHRcdFx0XHQgKiBhbGwgdGhlIHR5cGVkIGNvbnRlbnQuXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRzY29wZS4kd2F0Y2goYXR0cnMubmdNb2RlbCwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYoIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA8IDEpIHsgcmV0dXJuOyB9XG5cblx0XHRcdFx0XHR2YXIgbWFza2VkVmFsdWUgPSBtYXNrVmFsdWUodmFsdWUpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmKG1hc2tlZFZhbHVlICE9IHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRuZ01vZGVsLiRzZXRWaWV3VmFsdWUobWFza2VkVmFsdWUpO1xuXHRcdFx0XHRcdFx0bmdNb2RlbC4kcmVuZGVyKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2sucHJvdmlkZXJzJywgW1xuXHRcdCduZ0N1cnJlbmN5TWFzay5wcm92aWRlcnMubWFza2VyJ1xuXHRdKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=