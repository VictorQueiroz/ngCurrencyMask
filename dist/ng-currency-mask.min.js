!function(e,r,t){function n(){var e=this.defaults={maskMatches:[{replace:/(\.[0-9])(?=[0-9]{0}$)/g,"with":"$10"},{replace:/^(\d)*(?=(\d{0,})$)/g,"with":"$&,00"},{replace:/^(\d{1})$/,"with":"0,0$1"},{replace:/(\d{2})$/,"with":",$1"},{replace:/,(\d{3,})$/,"with":"$1,00"},{replace:/^,(\d{2})$/,"with":"0,$1"},{replace:/(?:\,{2,})+/g,"with":","},{replace:/[A-z{}\[\]_!\.]/g,"with":""},{replace:/(\d)(?=(\d{3})+(?!\d))/g,"with":"$1."}],unmaskMatches:[{replace:/\D/g,"with":""},{replace:/^(\d{1})$/,"with":"0.0$1"},{replace:/(\d{2})$/,"with":".$1"},{replace:/(,00|\.00$)/g,"with":""},{replace:/^(0{1,})/,"with":""},{replace:/^\.(\d{2})$/,"with":"0.$1"},{replace:function(e){if(!e)return"";var r=new RegExp(".(d{3,})$"),t=e.match(r);return t instanceof Array&&t[1]&&(e=e.replace(t,t.toString().substr(0,2))),e}}]};this.setCurrency=function(e){return this.currency=e,this},this.addUnmaskMatch=function(e,r){return this.unmaskMatches.unshift({replace:e,"with":r}),this},this.addMaskMatch=function(e,r){var t={};return r?(t.replace=e,t.with=r):t.replace=e,this.maskMatches.unshift(t),this},this.$get=["$locale",function(r){function n(e,r){if(!e)return e;var t=e.toString();return t=t.replace(/^/,r?r:c.currency)}var a={options:{}},c=a.options=t.extend({},a.options,e);return c.currency=c.currency||r.NUMBER_FORMATS.CURRENCY_SYM,a.maskValue=function(e,r){var t=e?e.toString():"",a=c.maskMatches;return a.forEach(function(e){t=e.replace instanceof Function?e.replace(t):t.replace(e.replace,e.with)}),t=n(t,r)},a.unmaskValue=function(e){var r=e?e.toString():"",t=c.unmaskMatches;return t.forEach(function(e){r=e.replace instanceof Function?e.replace(r):r.replace(e.replace,e.with)}),r},a}]}function a(e){var r=function(e){switch(e){case"mask":return 1;case"unmask":return 2}},t=function(e){return null===e||"default"===e?null:e};return function(n,a,c){if(!n)return"";n=n.toString();var a=a?r(a):r("mask"),i=c?t(c):t(null);if(1===a){var u=e.maskValue(n,i);return u}return 2===a?e.unmaskValue(n):void 0}}function c(r){return{restrict:"A",require:["?ngModel"],link:function(t,n,a,c){function i(e){return r.maskValue(e,l)}function u(e){return r.unmaskValue(e)}var s=c[0],l=a.currency?a.currency:null;s.$parsers.push(function(e){return u(e)}),t.$watch(a.ngModel,function(e){if(e&&!(e.length<1)){var r=i(e);r!=e&&(s.$setViewValue(r),s.$render())}}),n.bind("paste",function(r){var t=r.clipboardData||r.originalEvent.clipboardData||e.clipboardData,n=t.getData("text");isNaN(n)&&r.preventDefault()}),n.bind("keypress",function(e){var r=e.charCode,t=e.which||e.keyCode;e.ctrlKey&&118==t||0==r||(48>t||t>57)&&e.preventDefault()})}}}a.$inject=["$masker"],c.$inject=["$masker"],t.module("ngCurrencyMask",[]).directive("ngCurrencyMask",c).filter("currencyMask",a).provider("$masker",n)}(window,void 0,angular);