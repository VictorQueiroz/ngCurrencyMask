!function(){"use strict";angular.module("ngCurrencyMask",["ngCurrencyMask/Services","ngCurrencyMask/Directives","ngCurrencyMask/Filters","ngCurrencyMask/Providers"])}();
!function(){"use strict";angular.module("ngCurrencyMask/Service/Masker",[]).factory("Masker",["$currencyMask",function(r){var e=function(e,n){if(!e)return e;var a=e.toString();return a=a.replace(/^/,(n?n:r.currency)+" ")},n=function(n,a){var c=n.toString(),t=r.maskMatches;return t.forEach(function(r){c=r.replace instanceof Function?r.replace(c):c.replace(r.replace,r.with)}),c=e(c,a)},a=function(e){var n=e.toString(),a=r.unmaskMatches;return a.forEach(function(r){n=r.replace instanceof Function?r.replace(n):n.replace(r.replace,r.with)}),n};return{maskValue:n,unmaskValue:a}}])}();
!function(){"use strict";angular.module("ngCurrencyMask/Filter/currencyMask",[]).filter("currencyMask",["Masker",function(n){var r=function(n){switch(n){case"mask":return 1;case"unmask":return 2}},u=function(n){return null===n?null:n};return function(a,e,t){var e=e?r(e):r("mask"),c=t?u(t):u(null);if(1===e){var s=n.maskValue(a,c);return s}return 2===e?n.unmaskValue(a):void 0}}])}();
!function(){"use strict";angular.module("ngCurrencyMask/Provider/currencyMask",[]).provider("$currencyMask",function(){var e=[{replace:/(\.[0-9])(?=[0-9]{0}$)/g,"with":"$10"},{replace:/^(\d)*(?=(\d{0,})$)/g,"with":"$&,00"},{replace:/\D/g,"with":""},{replace:/^(\d{1})$/,"with":"0,0$1"},{replace:/(\d{2})$/,"with":",$1"},{replace:/,(\d{3,})$/,"with":"$1,00"},{replace:/^,(\d{2})$/,"with":"0,$1"},{replace:/(\d)(?=(\d{3})+(?!\d))/g,"with":"$1."}],r=[{replace:/\D/g,"with":""},{replace:/^(\d{1})$/,"with":"0.0$1"},{replace:/(\d{2})$/,"with":".$1"},{replace:/(,00|\.00$)/g,"with":""},{replace:/^(0{1,})/,"with":""},{replace:/^\.(\d{2})$/,"with":"0.$1"},{replace:function(e){if(!e)return"";var r=new RegExp(".(d{3,})$"),t=e.match(r);return t instanceof Array&&t[1]&&(e=e.replace(t,t.toString().substr(0,2))),e}}],t=this,c={currency:"R$",maskMatches:e,unmaskMatches:r};this.setCurrency=function(e){return c.currency=e,t},this.addUnmaskMatch=function(e,r){return c.unmaskMatches.unshift({replace:e,"with":r}),t},this.addMaskMatch=function(e,r){var a={};return r?(a.replace=e,a.with=r):a.replace=e,c.maskMatches.unshift(a),t},this.$get=function(){return c}})}();
!function(){"use strict";angular.module("ngCurrencyMask/Directives",["ngCurrencyMask/Directive/ngCurrencyMask"])}();
!function(){"use strict";angular.module("ngCurrencyMask/Filters",["ngCurrencyMask/Filter/currencyMask"])}();
!function(){"use strict";angular.module("ngCurrencyMask/Directive/ngCurrencyMask",[]).directive("ngCurrencyMask",["Masker",function(n){return{restrict:"A",require:["?ngModel"],link:function(r,e,u,t){var c=t[0],i=u.currency?u.currency:null,a=function(r){return n.maskValue(r,i)},s=function(r){return n.unmaskValue(r)},l=function(n){return s(n)};c.$parsers.push(l),r.$watch(u.ngModel,function(n){if(n&&!(n.length<1)){var r=a(n);r!=n&&(c.$setViewValue(r),c.$render())}})}}}])}();
!function(){"use strict";angular.module("ngCurrencyMask/Providers",["ngCurrencyMask/Provider/currencyMask"])}();
!function(){"use strict";angular.module("ngCurrencyMask/Services",["ngCurrencyMask/Service/Masker"])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImNvbXBvbmVudHMvTWFza2VyLVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2N1cnJlbmN5TWFzay1GaWx0ZXIuanMiLCJjb21wb25lbnRzL2N1cnJlbmN5TWFzay1Qcm92aWRlci5qcyIsImNvbXBvbmVudHMvZGlyZWN0aXZlcy5qcyIsImNvbXBvbmVudHMvZmlsdGVycy5qcyIsImNvbXBvbmVudHMvbmdDdXJyZW5jeU1hc2stRGlyZWN0aXZlLmpzIiwiY29tcG9uZW50cy9wcm92aWRlcnMuanMiLCJjb21wb25lbnRzL3NlcnZpY2VzLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJmYWN0b3J5IiwiZGVmYXVsdHMiLCJhZGRDdXJyZW5jeSIsInZhbHVlIiwiY3VycmVuY3kiLCJuZXdWYWx1ZSIsInRvU3RyaW5nIiwicmVwbGFjZSIsIm1hc2tWYWx1ZSIsIm1hc2tlZFZhbHVlIiwibWF0Y2hlcyIsIm1hc2tNYXRjaGVzIiwiZm9yRWFjaCIsImtleSIsIkZ1bmN0aW9uIiwid2l0aCIsInVubWFza1ZhbHVlIiwidW5tYXNrZWRWYWx1ZSIsInVubWFza01hdGNoZXMiLCJmaWx0ZXIiLCJNYXNrZXIiLCJkaWdlc3RNb2RlIiwibW9kZSIsImRpZ2VzdEN1cnJlbmN5IiwiaW5wdXQiLCJkaWdlc3RlZEN1cnJlbmN5IiwicHJvdmlkZXIiLCJyZWdleCIsIlJlZ0V4cCIsIm1hdGNoIiwiQXJyYXkiLCJzdWJzdHIiLCIkc2VsZiIsInRoaXMiLCIkY3VycmVuY3lNYXNrIiwic2V0Q3VycmVuY3kiLCJhZGRVbm1hc2tNYXRjaCIsInVuc2hpZnQiLCJhZGRNYXNrTWF0Y2giLCIkZ2V0IiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXF1aXJlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiY29udHJvbGxlcnMiLCJuZ01vZGVsIiwicGFyc2VyIiwiJHBhcnNlcnMiLCJwdXNoIiwiJHdhdGNoIiwibGVuZ3RoIiwiJHNldFZp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OiJuZy1jdXJyZW5jeS1tYXNrLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCduZ0N1cnJlbmN5TWFzaycsIFtcblx0XHRcdCduZ0N1cnJlbmN5TWFzay9TZXJ2aWNlcycsXG5cdFx0XHQnbmdDdXJyZW5jeU1hc2svRGlyZWN0aXZlcycsXG5cdFx0XHQnbmdDdXJyZW5jeU1hc2svRmlsdGVycycsXG5cdFx0XHQnbmdDdXJyZW5jeU1hc2svUHJvdmlkZXJzJ1xuXHRcdF0pO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2svU2VydmljZS9NYXNrZXInLCBbXSlcblxuXHRcdC5mYWN0b3J5KCdNYXNrZXInLCBbJyRjdXJyZW5jeU1hc2snLCBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcblx0XHRcdHZhciBhZGRDdXJyZW5jeSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3kpIHtcblx0XHRcdFx0aWYoIXZhbHVlKSByZXR1cm4gdmFsdWU7XG5cblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIENvbnZlcnRzIEB2YWx1ZSB0byBhIFN0cmluZyBpbnN0YW5jZSwgZm9yIE51bWJlclxuXHRcdFx0XHQgKiBpbnN0YW5jZXMgZG9lc24ndCBoYXZlIC5yZXBsYWNlKCkgcHJvdG90eXBlLlxuXHRcdFx0XHQgKi9cblx0XHRcdFx0dmFyIG5ld1ZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcblxuXHRcdFx0XHQvLyBJbXBsZW1lbnRzIHRoZSBjdXJyZW5jeSBhdCBAbmV3VmFsdWVcblx0XHRcdFx0bmV3VmFsdWUgPSBuZXdWYWx1ZS5yZXBsYWNlKC9eLywgKGN1cnJlbmN5ID8gY3VycmVuY3kgOiBkZWZhdWx0cy5jdXJyZW5jeSkgKyAnICcpO1xuXG5cdFx0XHRcdHJldHVybiBuZXdWYWx1ZTtcblx0XHRcdH07XG5cblx0XHQgIC8qKlxuXHRcdCAgICogTWFzayBAdmFsdWUgbWF0Y2hpbmcgaXQgY29udGVudHMuXG5cdFx0ICAgKi9cblx0XHQgIHZhciBtYXNrVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGN1cnJlbmN5KSB7XG5cdFx0ICAgIHZhciBtYXNrZWRWYWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCksXG5cdFx0ICAgIFx0XHRtYXRjaGVzID0gZGVmYXVsdHMubWFza01hdGNoZXM7XG5cdFx0ICAgIFxuXHRcdCAgICBtYXRjaGVzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdCAgICBcdGlmKGtleS5yZXBsYWNlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcblx0XHQgICAgXHRcdG1hc2tlZFZhbHVlID0ga2V5LnJlcGxhY2UobWFza2VkVmFsdWUpO1xuXHRcdCAgICBcdH0gZWxzZSB7XG5cdFx0ICAgICAgXHRtYXNrZWRWYWx1ZSA9IG1hc2tlZFZhbHVlLnJlcGxhY2Uoa2V5LnJlcGxhY2UsIGtleS53aXRoKTtcblx0XHQgICAgXHR9XG5cdFx0ICAgIH0pO1xuXG5cdFx0ICAgIG1hc2tlZFZhbHVlID0gYWRkQ3VycmVuY3kobWFza2VkVmFsdWUsIGN1cnJlbmN5KTtcblxuXHRcdCAgICByZXR1cm4gbWFza2VkVmFsdWU7XG5cdFx0ICB9O1xuXHRcdCAgXG5cdFx0ICAvKipcblx0XHQgICAqIFJldHVybiBAdmFsdWUgdG8gaXQgcmVhbCB2YWx1ZS5cblx0XHQgICAqL1xuXHRcdCAgdmFyIHVubWFza1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0ICAgIHZhciB1bm1hc2tlZFZhbHVlID0gdmFsdWUudG9TdHJpbmcoKSxcblx0XHQgICAgXHRcdG1hdGNoZXMgPSBkZWZhdWx0cy51bm1hc2tNYXRjaGVzO1xuXHRcdCAgICBcblx0XHQgICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHQgICAgXHRpZihrZXkucmVwbGFjZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG5cdFx0ICAgIFx0XHR1bm1hc2tlZFZhbHVlID0ga2V5LnJlcGxhY2UodW5tYXNrZWRWYWx1ZSk7XG5cdFx0ICAgIFx0fSBlbHNlIHtcblx0XHQgICAgICBcdHVubWFza2VkVmFsdWUgPSB1bm1hc2tlZFZhbHVlLnJlcGxhY2Uoa2V5LnJlcGxhY2UsIGtleS53aXRoKTtcblx0XHQgICAgXHR9XG5cdFx0ICAgIH0pO1xuXHRcdCAgICBcblx0XHQgICAgcmV0dXJuIHVubWFza2VkVmFsdWU7XG5cdFx0ICB9O1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRtYXNrVmFsdWU6IG1hc2tWYWx1ZSxcblx0XHRcdFx0dW5tYXNrVmFsdWU6IHVubWFza1ZhbHVlXG5cdFx0XHR9O1xuXHRcdH1dKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCduZ0N1cnJlbmN5TWFzay9GaWx0ZXIvY3VycmVuY3lNYXNrJywgW10pXG5cblx0XHQuZmlsdGVyKCdjdXJyZW5jeU1hc2snLCBbJ01hc2tlcicsIGZ1bmN0aW9uIChNYXNrZXIpIHtcblx0XHRcdHZhciBkaWdlc3RNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcblx0XHRcdFx0c3dpdGNoKG1vZGUpIHtcblx0XHRcdFx0XHRjYXNlICdtYXNrJzpcblx0XHRcdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndW5tYXNrJzpcblx0XHRcdFx0XHRcdHJldHVybiAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdHZhciBkaWdlc3RDdXJyZW5jeSA9IGZ1bmN0aW9uIChjdXJyZW5jeSkge1xuXHRcdFx0XHRpZihjdXJyZW5jeSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBjdXJyZW5jeTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHRcdHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIG1vZGUsIGN1cnJlbmN5KSB7XG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIG5vICdtb2RlJyBkZWZpbmVkLiBNYXNrIHRoZSBpbnB1dC5cblx0XHRcdFx0dmFyIG1vZGUgPSBtb2RlID8gZGlnZXN0TW9kZShtb2RlKSA6IGRpZ2VzdE1vZGUoJ21hc2snKSxcblx0XHRcdFx0ZGlnZXN0ZWRDdXJyZW5jeSA9IGN1cnJlbmN5ID8gZGlnZXN0Q3VycmVuY3koY3VycmVuY3kpIDogZGlnZXN0Q3VycmVuY3kobnVsbCk7XG5cblx0XHRcdFx0aWYobW9kZSA9PT0gMSkge1xuXHRcdFx0XHRcdHZhciBtYXNrZWRWYWx1ZSA9IE1hc2tlci5tYXNrVmFsdWUoaW5wdXQsIGRpZ2VzdGVkQ3VycmVuY3kpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIG1hc2tlZFZhbHVlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG1vZGUgPT09IDIpIHtcblx0XHRcdFx0XHRyZXR1cm4gTWFza2VyLnVubWFza1ZhbHVlKGlucHV0KTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0fV0pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhclxuXHRcdC5tb2R1bGUoJ25nQ3VycmVuY3lNYXNrL1Byb3ZpZGVyL2N1cnJlbmN5TWFzaycsIFtdKVxuXG5cdFx0LnByb3ZpZGVyKCckY3VycmVuY3lNYXNrJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG1hc2tNYXRjaGVzID0gW1xuXHRcdFx0XHR7ICdyZXBsYWNlJzogLyhcXC5bMC05XSkoPz1bMC05XXswfSQpL2csICd3aXRoJzogJyQxMCcgfSwgLy8gQ29udmVydHMgWFhYWC5YIHRvIFhYWFguWDBcblx0XHRcdFx0eyAncmVwbGFjZSc6IC9eKFxcZCkqKD89KFxcZHswLH0pJCkvZywgJ3dpdGgnOiAnJCYsMDAnIH0sIC8vIENvbnZlcnRzIFhYWFggdG8gWFhYWCwwMFxuXHRcdFx0XHR7ICdyZXBsYWNlJzogL1xcRC9nLCAnd2l0aCc6IFwiXCIgfSwgLy8gQ29udmVydHMgYWxsIG5vbi1kaWdpdCBudW1iZXJzIHRvICcnXG5cdFx0XHRcdHsgJ3JlcGxhY2UnOiAvXihcXGR7MX0pJC8sICd3aXRoJzogJzAsMCQxJyB9LCAvLyBDb252ZXJ0cyBYIHRvIDAsMFhcblx0XHRcdFx0eyAncmVwbGFjZSc6IC8oXFxkezJ9KSQvLCAnd2l0aCc6ICcsJDEnfSwgLy8gQ29udmVydHMgWFggdG8gMCxYWFxuXHRcdFx0XHR7ICdyZXBsYWNlJzogLywoXFxkezMsfSkkLywgJ3dpdGgnOiAnJDEsMDAnIH0sIC8vIENvbnZlcnRzIFgsWFhYIHRvIFgsWFhcblx0XHRcdFx0eyAncmVwbGFjZSc6IC9eLChcXGR7Mn0pJC8sICd3aXRoJzogXCIwLCQxXCIgfSwgLy8gQ29udmVydHMgLFhYIHRvIDAsWFhcblx0XHRcdFx0eyAncmVwbGFjZSc6IC8oXFxkKSg/PShcXGR7M30pKyg/IVxcZCkpL2csICd3aXRoJzogXCIkMS5cIiB9IC8vIENvbnZlcnRzIFhYWFhYWCB0byBYWFguWFhYXG5cdFx0XHRdLFxuXG5cdFx0XHR1bm1hc2tNYXRjaGVzID0gW1xuXHRcdFx0XHR7ICdyZXBsYWNlJzogL1xcRC9nLCAnd2l0aCc6IFwiXCIgfSwgLy8gQ29udmVydHMgIGFsbCBub24tZGlnaXQgbnVtYmVycyB0byAnJ1xuXHRcdFx0XHR7ICdyZXBsYWNlJzogL14oXFxkezF9KSQvLCAnd2l0aCc6ICcwLjAkMScgfSwgLy8gQ29udmVydHMgWCB0byBYLjBYXG5cdFx0XHRcdHsgJ3JlcGxhY2UnOiAvKFxcZHsyfSkkLywgJ3dpdGgnOiAnLiQxJ30sIC8vIENvbnZlcnRzIFhYIHRvIC5YWFxuXHRcdFx0XHR7ICdyZXBsYWNlJzogLygsMDB8XFwuMDAkKS9nLCAnd2l0aCc6ICcnIH0sIC8vIENvbnZlcnRzIGFsbCAsWFggYW5kIC5YWCB0byBub3RoaW5nXHRcdFx0XHRcblx0XHRcdFx0eyAncmVwbGFjZSc6IC9eKDB7MSx9KS8sICd3aXRoJzogJycgfSwgLy8gQ29udmVydHMgemVyb3MgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJpbmcgdG8gbm90aGluZ1xuXHRcdFx0XHR7ICdyZXBsYWNlJzogL15cXC4oXFxkezJ9KSQvLCAnd2l0aCc6IFwiMC4kMVwiIH0sIC8vIENvbnZlcnRzIC5YWCB0byAwLlhYXG5cblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIENsZWFuIHRoZSBlbmQgb2YgdGhlIHN0cmluZyBmcm9tXG5cdFx0XHRcdCAqIHVuc2lnbmlmaWNhbnQgbnVtYmVycyBjb252ZXJ0aW5nXG5cdFx0XHRcdCAqIFhYWC4zMFhYWFggdG8gWFhYLjMwXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHR7ICdyZXBsYWNlJzogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRpZighdmFsdWUpIHJldHVybiAnJztcblxuXHRcdFx0XHRcdFx0dmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXFwuKFxcZHszLH0pJCcpLFxuXHRcdFx0XHRcdFx0bWF0Y2ggPSB2YWx1ZS5tYXRjaChyZWdleCk7XG5cblx0XHRcdFx0XHRcdGlmKG1hdGNoIGluc3RhbmNlb2YgQXJyYXkgJiYgbWF0Y2hbMV0pIHtcblx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5yZXBsYWNlKG1hdGNoLCBtYXRjaC50b1N0cmluZygpLnN1YnN0cigwLCAyKSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdF07XG5cblx0XHRcdHZhciAkc2VsZiA9IHRoaXMsXG5cdFx0XHQkY3VycmVuY3lNYXNrID0ge1xuXHRcdFx0XHRjdXJyZW5jeTogJ1IkJyxcblxuXHRcdFx0XHQvLyBNYXRjaGVzIHdobyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGlucHV0IGNvbnRlbnQuXG5cdFx0XHRcdG1hc2tNYXRjaGVzOiBtYXNrTWF0Y2hlcyxcblxuXHRcdFx0XHR1bm1hc2tNYXRjaGVzOiB1bm1hc2tNYXRjaGVzXG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLnNldEN1cnJlbmN5ID0gZnVuY3Rpb24gKGN1cnJlbmN5KSB7XG5cdFx0XHRcdCRjdXJyZW5jeU1hc2suY3VycmVuY3kgPSBjdXJyZW5jeTtcblxuXHRcdFx0XHRyZXR1cm4gJHNlbGY7XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIEFkZCBhIG5ldyBtYXRjaCB0YXNrIHRvICRjdXJyZW5jeU1hc2sudW5tYXNrTWF0Y2hlcy5cblx0XHRcdCAqL1xuXHRcdFx0dGhpcy5hZGRVbm1hc2tNYXRjaCA9IGZ1bmN0aW9uIChyZXBsYWNlLCB2YWx1ZSkge1xuXHRcdFx0XHQkY3VycmVuY3lNYXNrLnVubWFza01hdGNoZXMudW5zaGlmdCh7XG5cdFx0XHRcdFx0J3JlcGxhY2UnOiByZXBsYWNlLFxuXHRcdFx0XHRcdCd3aXRoJzogdmFsdWVcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuICRzZWxmO1xuXHRcdFx0fTtcdFx0XHRcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBBZGQgYSBuZXcgbWF0Y2ggdGFzayB0byAkY3VycmVuY3lNYXNrLm1hc2tNYXRjaGVzLlxuXHRcdFx0ICovXG5cdFx0XHR0aGlzLmFkZE1hc2tNYXRjaCA9IGZ1bmN0aW9uIChyZXBsYWNlLCB2YWx1ZSkge1xuXHRcdFx0XHR2YXIgbWF0Y2ggPSB7fTtcblxuXHRcdFx0XHRpZighdmFsdWUpIHtcblx0XHRcdFx0XHRtYXRjaC5yZXBsYWNlID0gcmVwbGFjZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRtYXRjaC5yZXBsYWNlID0gcmVwbGFjZTtcblx0XHRcdFx0XHRtYXRjaC53aXRoID0gdmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkY3VycmVuY3lNYXNrLm1hc2tNYXRjaGVzLnVuc2hpZnQobWF0Y2gpO1xuXG5cdFx0XHRcdHJldHVybiAkc2VsZjtcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuICRjdXJyZW5jeU1hc2s7XG5cdFx0XHR9O1xuXHRcdH0pO1x0XHRcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCduZ0N1cnJlbmN5TWFzay9EaXJlY3RpdmVzJywgWyduZ0N1cnJlbmN5TWFzay9EaXJlY3RpdmUvbmdDdXJyZW5jeU1hc2snXSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2svRmlsdGVycycsIFsnbmdDdXJyZW5jeU1hc2svRmlsdGVyL2N1cnJlbmN5TWFzayddKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCduZ0N1cnJlbmN5TWFzay9EaXJlY3RpdmUvbmdDdXJyZW5jeU1hc2snLCBbXSlcblxuXHRcdC5kaXJlY3RpdmUoJ25nQ3VycmVuY3lNYXNrJywgWydNYXNrZXInLCBmdW5jdGlvbiAoTWFza2VyKSB7XG5cdFx0ICByZXR1cm4ge1xuXHRcdCAgICByZXN0cmljdDogJ0EnLFxuXHRcdCAgICByZXF1aXJlOiBbJz9uZ01vZGVsJ10sXG5cdFx0ICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzKSB7XG5cdFx0ICAgIFx0dmFyIG5nTW9kZWwgPSBjb250cm9sbGVyc1swXSxcblx0XHQgICAgICBcdFx0Y3VycmVuY3kgPSAhYXR0cnMuY3VycmVuY3kgPyBudWxsIDogYXR0cnMuY3VycmVuY3k7XG5cblx0XHQgICAgXHQvKipcblx0XHQgICAgXHQgKiBNYXNrIEB2YWx1ZSBtYXRjaGluZyBpdCBjb250ZW50cy5cblx0XHQgICAgXHQgKi9cblx0XHQgICAgICB2YXIgbWFza1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0ICAgICAgICByZXR1cm4gTWFza2VyLm1hc2tWYWx1ZSh2YWx1ZSwgY3VycmVuY3kpO1xuXHRcdCAgICAgIH07XG5cdFx0ICAgICAgXG5cdFx0ICAgICAgLyoqXG5cdFx0ICAgICAgICogUmV0dXJuIEB2YWx1ZSB0byBpdCByZWFsIHZhbHVlLlxuXHRcdCAgICAgICAqL1xuXHRcdCAgICAgIHZhciB1bm1hc2tWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdCAgICAgICAgcmV0dXJuIE1hc2tlci51bm1hc2tWYWx1ZSh2YWx1ZSk7XG5cdFx0ICAgICAgfTtcblx0XHQgICAgICBcblx0XHQgICAgICAvKipcblx0XHQgICAgICAgKiBQYXJzZXIgd2hvIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgbmdNb2RlbFxuXHRcdCAgICAgICAqIGJlZm9yZSB0aGUgZ29lcyB0byBET00uIFRoYXQgaXMgdGhlIHJlYWwgbmdNb2RlbCB2YWx1ZS5cblx0XHQgICAgICAgKi9cblx0XHQgICAgICB2YXIgcGFyc2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0ICAgICAgICByZXR1cm4gdW5tYXNrVmFsdWUodmFsdWUpO1xuXHRcdCAgICAgIH07XG5cblx0XHQgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2gocGFyc2VyKTtcblx0XHQgICAgICBcblx0XHQgICAgICAvKipcblx0XHQgICAgICAgKiBFdmVyeXRpbWUgdGhlIGlucHV0IHN1ZmZlciBhIGNoYW5nZSxcblx0XHQgICAgICAgKiB0aGUgZGlyZWN0aXZlIHdpbGwgdXBkYXRlIGl0IGFuZCBtYXNrXG5cdFx0ICAgICAgICogYWxsIHRoZSB0eXBlZCBjb250ZW50LlxuXHRcdCAgICAgICAqL1xuXHRcdCAgICAgIHNjb3BlLiR3YXRjaChhdHRycy5uZ01vZGVsLCBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHQgICAgICBcdGlmKCF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPCAxKSB7IHJldHVybjsgfVxuXG5cdFx0ICAgICAgICB2YXIgbWFza2VkVmFsdWUgPSBtYXNrVmFsdWUodmFsdWUpO1xuXHRcdCAgICAgICAgXG5cdFx0ICAgICAgICBpZihtYXNrZWRWYWx1ZSAhPSB2YWx1ZSkge1xuXHRcdCAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUobWFza2VkVmFsdWUpO1xuXHRcdCAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9KTtcblx0XHQgICAgfVxuXHRcdCAgfTtcblx0XHR9XSk7XG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2svUHJvdmlkZXJzJywgW1xuXHRcdFx0J25nQ3VycmVuY3lNYXNrL1Byb3ZpZGVyL2N1cnJlbmN5TWFzaydcblx0XHRdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXJcblx0XHQubW9kdWxlKCduZ0N1cnJlbmN5TWFzay9TZXJ2aWNlcycsIFsnbmdDdXJyZW5jeU1hc2svU2VydmljZS9NYXNrZXInXSk7XG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==