!function(){"use strict";angular.module("ngCurrencyMask",["ngCurrencyMask/Services","ngCurrencyMask/Directives","ngCurrencyMask/Filters","ngCurrencyMask/Providers"])}();
!function(){"use strict";angular.module("ngCurrencyMask/Service/Masker",[]).factory("Masker",["$currencyMask",function(r){var n=function(n,e){if(!n)return n;var a=n.toString();return a=a.replace(/^/,(e?e:r.currency)+" ")},e=function(e,a){var t=e.toString(),c=r.maskMatches;return c.forEach(function(r){t=t.replace(r.replace,r.with)}),t=n(t,a)},a=function(n){var e=n.toString(),a=r.unmaskMatches;return a.forEach(function(r){e=e.replace(r.replace,r.with)}),e};return{maskValue:e,unmaskValue:a}}])}();
!function(){"use strict";angular.module("ngCurrencyMask/Filter/currencyMask",[]).filter("currencyMask",["Masker",function(n){var r=function(n){switch(n){case"mask":return 1;case"unmask":return 2}},u=function(n){return null===n?null:n};return function(a,e,t){var e=e?r(e):r("mask"),c=t?u(t):u(null);if(1===e){var s=n.maskValue(a,c);return s}return 2===e?n.unmaskValue(a):void 0}}])}();
!function(){"use strict";angular.module("ngCurrencyMask/Provider/currencyMask",[]).provider("$currencyMask",function(){var e=this,r={currency:"R$",maskMatches:[{replace:/[^\d]/g,"with":""},{replace:/(\d{2})$/,"with":",$1"},{replace:/,(\d{3,})$/,"with":"$1,00"},{replace:/^(0{1,})/,"with":""},{replace:/^,(\d{2})$/,"with":"0,$1"},{replace:/(\d)(?=(\d{3})+(?!\d))/g,"with":"$1."}],unmaskMatches:[{replace:/\D/g,"with":""}]};this.setCurrency=function(t){return r.currency=t,e},this.addUnmaskMatch=function(t,c){return r.unmaskMatches.unshift({replace:t,"with":c}),e},this.addMaskMatch=function(t,c){return r.maskMatches.unshift({replace:t,"with":c}),e},this.$get=function(){var e;return angular.copy(r,e),r}})}();
!function(){"use strict";angular.module("ngCurrencyMask/Directives",["ngCurrencyMask/Directive/ngCurrencyMask"])}();
!function(){"use strict";angular.module("ngCurrencyMask/Filters",["ngCurrencyMask/Filter/currencyMask"])}();
!function(){"use strict";angular.module("ngCurrencyMask/Directive/ngCurrencyMask",[]).directive("ngCurrencyMask",["Masker",function(n){return{restrict:"A",require:["?ngModel"],link:function(r,e,u,t){var c=t[0],i=u.currency?u.currency:null,a=function(r){return n.maskValue(r,i)},s=function(r){return n.unmaskValue(r)},l=function(n){return s(n)};c.$parsers.push(l),r.$watch(u.ngModel,function(n){if(n&&!(n.length<1)){var r=a(n);r!=n&&(c.$setViewValue(r),c.$render())}})}}}])}();
!function(){"use strict";angular.module("ngCurrencyMask/Providers",["ngCurrencyMask/Provider/currencyMask"])}();
!function(){"use strict";angular.module("ngCurrencyMask/Services",["ngCurrencyMask/Service/Masker"])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImNvbXBvbmVudHNcXE1hc2tlci1TZXJ2aWNlLmpzIiwiY29tcG9uZW50c1xcY3VycmVuY3lNYXNrLUZpbHRlci5qcyIsImNvbXBvbmVudHNcXGN1cnJlbmN5TWFzay1Qcm92aWRlci5qcyIsImNvbXBvbmVudHNcXGRpcmVjdGl2ZXMuanMiLCJjb21wb25lbnRzXFxmaWx0ZXJzLmpzIiwiY29tcG9uZW50c1xcbmdDdXJyZW5jeU1hc2stRGlyZWN0aXZlLmpzIiwiY29tcG9uZW50c1xccHJvdmlkZXJzLmpzIiwiY29tcG9uZW50c1xcc2VydmljZXMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImZhY3RvcnkiLCJkZWZhdWx0cyIsImFkZEN1cnJlbmN5IiwidmFsdWUiLCJjdXJyZW5jeSIsIm5ld1ZhbHVlIiwidG9TdHJpbmciLCJyZXBsYWNlIiwibWFza1ZhbHVlIiwibWFza2VkVmFsdWUiLCJtYXRjaGVzIiwibWFza01hdGNoZXMiLCJmb3JFYWNoIiwia2V5Iiwid2l0aCIsInVubWFza1ZhbHVlIiwidW5tYXNrZWRWYWx1ZSIsInVubWFza01hdGNoZXMiLCJmaWx0ZXIiLCJNYXNrZXIiLCJkaWdlc3RNb2RlIiwibW9kZSIsImRpZ2VzdEN1cnJlbmN5IiwiaW5wdXQiLCJkaWdlc3RlZEN1cnJlbmN5IiwicHJvdmlkZXIiLCIkc2VsZiIsInRoaXMiLCIkY3VycmVuY3lNYXNrIiwic2V0Q3VycmVuY3kiLCJhZGRVbm1hc2tNYXRjaCIsInVuc2hpZnQiLCJhZGRNYXNrTWF0Y2giLCIkZ2V0IiwiY3VycmVuY3lNYXNrIiwiY29weSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVxdWlyZSIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImNvbnRyb2xsZXJzIiwibmdNb2RlbCIsInBhcnNlciIsIiRwYXJzZXJzIiwicHVzaCIsIiR3YXRjaCIsImxlbmd0aCIsIiRzZXRWaWV3VmFsdWUiLCIkcmVuZGVyIl0sIm1h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a0JzQyxFQUFNdEMsU0FBYixLQUszQkksRUFBWSxTQUFVTCxHQUN4QixNQUFPZ0IsR0FBT1gsVUFBVUwsRUFBT0MsSUFNN0JXLEVBQWMsU0FBVVosR0FDMUIsTUFBT2dCLEdBQU9KLFlBQVlaLElBT3hCMEMsRUFBUyxTQUFVMUMsR0FDckIsTUFBT1ksR0FBWVosR0FHckJ5QyxHQUFRRSxTQUFTQyxLQUFLRixHQU90QkwsRUFBTVEsT0FBT04sRUFBTUUsUUFBUyxTQUFVekMsR0FDckMsR0FBSUEsS0FBU0EsRUFBTThDLE9BQVMsR0FBNUIsQ0FFQyxHQUFJeEMsR0FBY0QsRUFBVUwsRUFFekJNLElBQWVOLElBQ2hCeUMsRUFBUU0sY0FBY3pDLEdBQ3RCbUMsRUFBUU87Q0NsRHBCLFdBQ0MsWUFFQXJELFNBQ0VDLE9BQU8sNEJBQ1A7Q0NMSCxXQUNDLFlBRUFELFNBQ0VDLE9BQU8sMkJBQTRCIiwiZmlsZSI6Im5nLWN1cnJlbmN5LW1hc2subWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0XHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2snLCBbXHJcblx0XHRcdCduZ0N1cnJlbmN5TWFzay9TZXJ2aWNlcycsXHJcblx0XHRcdCduZ0N1cnJlbmN5TWFzay9EaXJlY3RpdmVzJyxcclxuXHRcdFx0J25nQ3VycmVuY3lNYXNrL0ZpbHRlcnMnLFxyXG5cdFx0XHQnbmdDdXJyZW5jeU1hc2svUHJvdmlkZXJzJ1xyXG5cdFx0XSk7XHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCduZ0N1cnJlbmN5TWFzay9TZXJ2aWNlL01hc2tlcicsIFtdKVxyXG5cclxuXHRcdC5mYWN0b3J5KCdNYXNrZXInLCBbJyRjdXJyZW5jeU1hc2snLCBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcclxuXHRcdFx0dmFyIGFkZEN1cnJlbmN5ID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeSkge1xyXG5cdFx0XHRcdGlmKCF2YWx1ZSkgcmV0dXJuIHZhbHVlO1xyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBDb252ZXJ0cyBAdmFsdWUgdG8gYSBTdHJpbmcgaW5zdGFuY2UsIGZvciBOdW1iZXJcclxuXHRcdFx0XHQgKiBpbnN0YW5jZXMgZG9lc24ndCBoYXZlIC5yZXBsYWNlKCkgcHJvdG90eXBlLlxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHZhciBuZXdWYWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcblxyXG5cdFx0XHRcdC8vIEltcGxlbWVudHMgdGhlIGN1cnJlbmN5IGF0IEBuZXdWYWx1ZVxyXG5cdFx0XHRcdG5ld1ZhbHVlID0gbmV3VmFsdWUucmVwbGFjZSgvXi8sIChjdXJyZW5jeSA/IGN1cnJlbmN5IDogZGVmYXVsdHMuY3VycmVuY3kpICsgJyAnKTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG5ld1ZhbHVlO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdCAgLyoqXHJcblx0XHQgICAqIE1hc2sgQHZhbHVlIG1hdGNoaW5nIGl0IGNvbnRlbnRzLlxyXG5cdFx0ICAgKi9cclxuXHRcdCAgdmFyIG1hc2tWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3kpIHtcclxuXHRcdCAgICB2YXIgbWFza2VkVmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLFxyXG5cdFx0ICAgIFx0XHRtYXRjaGVzID0gZGVmYXVsdHMubWFza01hdGNoZXM7XHJcblx0XHQgICAgXHJcblx0XHQgICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuXHRcdCAgICAgIG1hc2tlZFZhbHVlID0gbWFza2VkVmFsdWUucmVwbGFjZShrZXkucmVwbGFjZSwga2V5LndpdGgpO1xyXG5cdFx0ICAgIH0pO1xyXG5cclxuXHRcdCAgICBtYXNrZWRWYWx1ZSA9IGFkZEN1cnJlbmN5KG1hc2tlZFZhbHVlLCBjdXJyZW5jeSk7XHJcblxyXG5cdFx0ICAgIHJldHVybiBtYXNrZWRWYWx1ZTtcclxuXHRcdCAgfTtcclxuXHRcdCAgXHJcblx0XHQgIC8qKlxyXG5cdFx0ICAgKiBSZXR1cm4gQHZhbHVlIHRvIGl0IHJlYWwgdmFsdWUuXHJcblx0XHQgICAqL1xyXG5cdFx0ICB2YXIgdW5tYXNrVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdCAgICB2YXIgdW5tYXNrZWRWYWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCksXHJcblx0XHQgICAgXHRcdG1hdGNoZXMgPSBkZWZhdWx0cy51bm1hc2tNYXRjaGVzO1xyXG5cdFx0ICAgIFxyXG5cdFx0ICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcblx0XHQgICAgICB1bm1hc2tlZFZhbHVlID0gdW5tYXNrZWRWYWx1ZS5yZXBsYWNlKGtleS5yZXBsYWNlLCBrZXkud2l0aCk7XHJcblx0XHQgICAgfSk7XHJcblx0XHQgICAgXHJcblx0XHQgICAgcmV0dXJuIHVubWFza2VkVmFsdWU7XHJcblx0XHQgIH07XHJcblxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdG1hc2tWYWx1ZTogbWFza1ZhbHVlLFxyXG5cdFx0XHRcdHVubWFza1ZhbHVlOiB1bm1hc2tWYWx1ZVxyXG5cdFx0XHR9O1xyXG5cdFx0fV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCduZ0N1cnJlbmN5TWFzay9GaWx0ZXIvY3VycmVuY3lNYXNrJywgW10pXHJcblxyXG5cdFx0LmZpbHRlcignY3VycmVuY3lNYXNrJywgWydNYXNrZXInLCBmdW5jdGlvbiAoTWFza2VyKSB7XHJcblx0XHRcdHZhciBkaWdlc3RNb2RlID0gZnVuY3Rpb24gKG1vZGUpIHtcclxuXHRcdFx0XHRzd2l0Y2gobW9kZSkge1xyXG5cdFx0XHRcdFx0Y2FzZSAnbWFzayc6XHJcblx0XHRcdFx0XHRcdHJldHVybiAxO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ3VubWFzayc6XHJcblx0XHRcdFx0XHRcdHJldHVybiAyO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHR2YXIgZGlnZXN0Q3VycmVuY3kgPSBmdW5jdGlvbiAoY3VycmVuY3kpIHtcclxuXHRcdFx0XHRpZihjdXJyZW5jeSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBjdXJyZW5jeTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgbW9kZSwgY3VycmVuY3kpIHtcclxuXHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBubyAnbW9kZScgZGVmaW5lZC4gTWFzayB0aGUgaW5wdXQuXHJcblx0XHRcdFx0dmFyIG1vZGUgPSBtb2RlID8gZGlnZXN0TW9kZShtb2RlKSA6IGRpZ2VzdE1vZGUoJ21hc2snKSxcclxuXHRcdFx0XHRkaWdlc3RlZEN1cnJlbmN5ID0gY3VycmVuY3kgPyBkaWdlc3RDdXJyZW5jeShjdXJyZW5jeSkgOiBkaWdlc3RDdXJyZW5jeShudWxsKTtcclxuXHJcblx0XHRcdFx0aWYobW9kZSA9PT0gMSkge1xyXG5cdFx0XHRcdFx0dmFyIG1hc2tlZFZhbHVlID0gTWFza2VyLm1hc2tWYWx1ZShpbnB1dCwgZGlnZXN0ZWRDdXJyZW5jeSk7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIG1hc2tlZFZhbHVlO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAobW9kZSA9PT0gMikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIE1hc2tlci51bm1hc2tWYWx1ZShpbnB1dCk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fTtcclxuXHRcdH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2svUHJvdmlkZXIvY3VycmVuY3lNYXNrJywgW10pXHJcblxyXG5cdFx0LnByb3ZpZGVyKCckY3VycmVuY3lNYXNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgJHNlbGYgPSB0aGlzLFxyXG5cdFx0XHQkY3VycmVuY3lNYXNrID0ge1xyXG5cdFx0XHRcdGN1cnJlbmN5OiAnUiQnLFxyXG5cclxuXHRcdFx0XHQvLyBNYXRjaGVzIHdobyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGlucHV0IGNvbnRlbnQuXHJcblx0XHRcdFx0bWFza01hdGNoZXM6IFtcclxuXHRcdFx0XHRcdHsgJ3JlcGxhY2UnOiAvW15cXGRdL2csICd3aXRoJzogXCJcIiB9LFxyXG5cdFx0XHRcdFx0eyAncmVwbGFjZSc6IC8oXFxkezJ9KSQvLCAnd2l0aCc6IFwiLCQxXCIgfSxcclxuXHRcdFx0XHRcdHsgJ3JlcGxhY2UnOiAvLChcXGR7Myx9KSQvLCAnd2l0aCc6ICckMSwwMCcgfSxcclxuXHRcdFx0XHRcdHsgJ3JlcGxhY2UnOiAvXigwezEsfSkvLCAnd2l0aCc6ICcnIH0sXHJcblx0XHRcdFx0XHR7ICdyZXBsYWNlJzogL14sKFxcZHsyfSkkLywgJ3dpdGgnOiBcIjAsJDFcIiB9LFxyXG5cdFx0XHRcdFx0eyAncmVwbGFjZSc6IC8oXFxkKSg/PShcXGR7M30pKyg/IVxcZCkpL2csICd3aXRoJzogXCIkMS5cIiB9XHJcblx0XHRcdFx0XSxcclxuXHJcblx0XHRcdFx0dW5tYXNrTWF0Y2hlczogW1xyXG5cdFx0XHRcdFx0eyAncmVwbGFjZSc6IC9cXEQvZywgJ3dpdGgnOiAnJyB9XHJcblx0XHRcdFx0XVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0dGhpcy5zZXRDdXJyZW5jeSA9IGZ1bmN0aW9uIChjdXJyZW5jeSkge1xyXG5cdFx0XHRcdCRjdXJyZW5jeU1hc2suY3VycmVuY3kgPSBjdXJyZW5jeTtcclxuXHJcblx0XHRcdFx0cmV0dXJuICRzZWxmO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFkZCBhIG5ldyBtYXRjaCB0YXNrIHRvICRjdXJyZW5jeU1hc2sudW5tYXNrTWF0Y2hlcy5cclxuXHRcdFx0ICovXHJcblx0XHRcdHRoaXMuYWRkVW5tYXNrTWF0Y2ggPSBmdW5jdGlvbiAocmVwbGFjZSwgdmFsdWUpIHtcclxuXHRcdFx0XHQkY3VycmVuY3lNYXNrLnVubWFza01hdGNoZXMudW5zaGlmdCh7XHJcblx0XHRcdFx0XHQncmVwbGFjZSc6IHJlcGxhY2UsXHJcblx0XHRcdFx0XHQnd2l0aCc6IHZhbHVlXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHJldHVybiAkc2VsZjtcclxuXHRcdFx0fTtcdFx0XHRcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBBZGQgYSBuZXcgbWF0Y2ggdGFzayB0byAkY3VycmVuY3lNYXNrLm1hc2tNYXRjaGVzLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0dGhpcy5hZGRNYXNrTWF0Y2ggPSBmdW5jdGlvbiAocmVwbGFjZSwgdmFsdWUpIHtcclxuXHRcdFx0XHQkY3VycmVuY3lNYXNrLm1hc2tNYXRjaGVzLnVuc2hpZnQoe1xyXG5cdFx0XHRcdFx0J3JlcGxhY2UnOiByZXBsYWNlLFxyXG5cdFx0XHRcdFx0J3dpdGgnOiB2YWx1ZVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gJHNlbGY7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHR0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIGN1cnJlbmN5TWFzaztcclxuXHJcblx0XHRcdFx0YW5ndWxhci5jb3B5KCRjdXJyZW5jeU1hc2ssIGN1cnJlbmN5TWFzayk7XHJcblxyXG5cdFx0XHRcdHJldHVybiAkY3VycmVuY3lNYXNrO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSk7XHRcdFxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCduZ0N1cnJlbmN5TWFzay9EaXJlY3RpdmVzJywgWyduZ0N1cnJlbmN5TWFzay9EaXJlY3RpdmUvbmdDdXJyZW5jeU1hc2snXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ25nQ3VycmVuY3lNYXNrL0ZpbHRlcnMnLCBbJ25nQ3VycmVuY3lNYXNrL0ZpbHRlci9jdXJyZW5jeU1hc2snXSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ25nQ3VycmVuY3lNYXNrL0RpcmVjdGl2ZS9uZ0N1cnJlbmN5TWFzaycsIFtdKVxyXG5cclxuXHRcdC5kaXJlY3RpdmUoJ25nQ3VycmVuY3lNYXNrJywgWydNYXNrZXInLCBmdW5jdGlvbiAoTWFza2VyKSB7XHJcblx0XHQgIHJldHVybiB7XHJcblx0XHQgICAgcmVzdHJpY3Q6ICdBJyxcclxuXHRcdCAgICByZXF1aXJlOiBbJz9uZ01vZGVsJ10sXHJcblx0XHQgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMpIHtcclxuXHRcdCAgICBcdHZhciBuZ01vZGVsID0gY29udHJvbGxlcnNbMF0sXHJcblx0XHQgICAgICBcdFx0Y3VycmVuY3kgPSAhYXR0cnMuY3VycmVuY3kgPyBudWxsIDogYXR0cnMuY3VycmVuY3k7XHJcblxyXG5cdFx0ICAgIFx0LyoqXHJcblx0XHQgICAgXHQgKiBNYXNrIEB2YWx1ZSBtYXRjaGluZyBpdCBjb250ZW50cy5cclxuXHRcdCAgICBcdCAqL1xyXG5cdFx0ICAgICAgdmFyIG1hc2tWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0ICAgICAgICByZXR1cm4gTWFza2VyLm1hc2tWYWx1ZSh2YWx1ZSwgY3VycmVuY3kpO1xyXG5cdFx0ICAgICAgfTtcclxuXHRcdCAgICAgIFxyXG5cdFx0ICAgICAgLyoqXHJcblx0XHQgICAgICAgKiBSZXR1cm4gQHZhbHVlIHRvIGl0IHJlYWwgdmFsdWUuXHJcblx0XHQgICAgICAgKi9cclxuXHRcdCAgICAgIHZhciB1bm1hc2tWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0ICAgICAgICByZXR1cm4gTWFza2VyLnVubWFza1ZhbHVlKHZhbHVlKTtcclxuXHRcdCAgICAgIH07XHJcblx0XHQgICAgICBcclxuXHRcdCAgICAgIC8qKlxyXG5cdFx0ICAgICAgICogUGFyc2VyIHdobyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIG5nTW9kZWxcclxuXHRcdCAgICAgICAqIGJlZm9yZSB0aGUgZ29lcyB0byBET00uIFRoYXQgaXMgdGhlIHJlYWwgbmdNb2RlbCB2YWx1ZS5cclxuXHRcdCAgICAgICAqL1xyXG5cdFx0ICAgICAgdmFyIHBhcnNlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0ICAgICAgICByZXR1cm4gdW5tYXNrVmFsdWUodmFsdWUpO1xyXG5cdFx0ICAgICAgfTtcclxuXHJcblx0XHQgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2gocGFyc2VyKTtcclxuXHRcdCAgICAgIFxyXG5cdFx0ICAgICAgLyoqXHJcblx0XHQgICAgICAgKiBFdmVyeXRpbWUgdGhlIGlucHV0IHN1ZmZlciBhIGNoYW5nZSxcclxuXHRcdCAgICAgICAqIHRoZSBkaXJlY3RpdmUgd2lsbCB1cGRhdGUgaXQgYW5kIG1hc2tcclxuXHRcdCAgICAgICAqIGFsbCB0aGUgdHlwZWQgY29udGVudC5cclxuXHRcdCAgICAgICAqL1xyXG5cdFx0ICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm5nTW9kZWwsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0ICAgICAgXHRpZighdmFsdWUgfHwgdmFsdWUubGVuZ3RoIDwgMSkgeyByZXR1cm47IH1cclxuXHJcblx0XHQgICAgICAgIHZhciBtYXNrZWRWYWx1ZSA9IG1hc2tWYWx1ZSh2YWx1ZSk7XHJcblx0XHQgICAgICAgIFxyXG5cdFx0ICAgICAgICBpZihtYXNrZWRWYWx1ZSAhPSB2YWx1ZSkge1xyXG5cdFx0ICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShtYXNrZWRWYWx1ZSk7XHJcblx0XHQgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XHJcblx0XHQgICAgICAgIH1cclxuXHRcdCAgICAgIH0pO1xyXG5cdFx0ICAgIH1cclxuXHRcdCAgfTtcclxuXHRcdH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnbmdDdXJyZW5jeU1hc2svUHJvdmlkZXJzJywgW1xyXG5cdFx0XHQnbmdDdXJyZW5jeU1hc2svUHJvdmlkZXIvY3VycmVuY3lNYXNrJ1xyXG5cdFx0XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ25nQ3VycmVuY3lNYXNrL1NlcnZpY2VzJywgWyduZ0N1cnJlbmN5TWFzay9TZXJ2aWNlL01hc2tlciddKTtcclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=